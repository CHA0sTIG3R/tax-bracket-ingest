[pytest]
minversion = 7.0
addopts = 
    --strict-markers 
    --tb=short 
    --maxfail=1
    --cov=tax-bracket-ingest 
    --cov-report=term-missing
testpaths = tests
python_files = test_*.py
markers =
    integration: mark a test as integration to hit real endpoints

; TODO: Coverage tooling is misconfigured (--cov=tax-bracket-ingest) so CI misses real package coverage (pytest.ini:6). Point coverage to tax_bracket_ingest, add tests for error paths (S3 404s, backend 500s, HTML layout drift), and assert that requests.get is called with the correct IRS URL in unit tests (tests/unit/test_scraper.py:6).